/**
 * skylark - An Elegant JavaScript Library and HTML5 Application Framework.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["skylark/skylark","skylark/langx","skylark/finder"],function(t,r,e){function n(t,r,e){null==e?t.removeAttribute(r):t.setAttribute(r,e)}function i(t,r,e){if(void 0!==e)return t.setAttribute(r,e),this;if("object"==typeof r){for(var n in r)i(t,n,r[n]);return this}return t.hasAttribute(r)?t.getAttribute(r):void 0}function a(t){var e={};return r.each(t.attributes||[],function(t,r){0==r.name.indexOf("data-")&&(e[x(r.name.replace("data-",""))]=g(r.value))}),e}function o(t,r){var e=t._$_store;return!e&&r&&(e=t._$_store=a(t)),e}function u(t,r){if(void 0===r)return o(t,!0);var e=o(t);if(e){if(r in e)return e[r];var n=x(r);if(n in e)return e[n]}var a="data-"+r.replace(k,"-$1").toLowerCase();return i(t,a)}function l(t,r,e){var n=o(t,!0);n[x(r)]=e}function c(t,r,e){if(void 0===e){if("object"==typeof r){for(var n in r)l(t,n,r[n]);return this}return u(t,r)}return l(t,r,e),this}function f(t,e){r.isString(e)&&(e=e.split(/\s+/));var n=o(t,!0);return e.forEach(function(t){delete n[t]}),this}function s(t,r){return b.call(t,function(t){return t[r]})}function d(t,r,e){return r=A[r]||r,void 0===e?t[r]:(t[r]=e,this)}function v(t,r){return r.split(" ").forEach(function(r){n(t,r)}),this}function p(t,r){return void 0===r?t.textContent:(t.textContent=null==r?"":""+r,this)}function h(t,r){if(void 0===r){if(t.multiple){var n=y.call(e.find(t,"option"),function(t){return t.selected});return s(n,"value")}return t.value}return t.value=r,this}function m(){return m}var b=Array.prototype.map,y=Array.prototype.filter,x=r.camelCase,g=r.deserializeValue,k=/([A-Z])/g,A={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"};return r.mixin(m,{attr:i,data:c,pluck:s,prop:d,removeAttr:v,removeData:f,text:p,val:h}),t.datax=m});