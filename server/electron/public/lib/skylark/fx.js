/**
 * skylark - An Elegant JavaScript Library and HTML5 Application Framework.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["skylark/skylark","skylark/langx","skylark/browser","skylark/styler","skylark/eventer","skylark/async"],function(n,i,t,e,s,r){function o(n,t,o,a,l,u){var f,p,d,m={},v=[],j="",F=this,O=!1,S=!1;if(i.isPlainObject(o)&&(a=o.easing,l=o.complete,u=o.delay,o=o.duration),i.isString(o)&&(o=y.speeds[o]),void 0===o&&(o=y.speeds.normal),o/=1e3,y.off&&(o=0),i.isFunction(a)?(l=a,eace="swing"):a=a||"swing",u?u/=1e3:u=0,i.isString(t))m[h]=t,m[g]=o+"s",m[k]=a,p=b;else{for(f in t)I.test(f)?j+=f+"("+t[f]+") ":("scrollTop"===f&&(S=!0),m[f]=t[f],v.push(i.dasherize(f)));p=w}return j&&(m[x]=j,v.push(x)),o>0&&i.isPlainObject(t)&&(m[P]=v.join(", "),m[z]=o+"s",m[T]=u+"s",m[C]=a),d=function(i){if(O=!0,i){if(i.target!==i.currentTarget)return;s.off(i.target,p,d)}else s.off(n,b,d);e.css(n,E),l&&l.call(this)},o>0&&(s.on(n,p,d),r.debounce(function(){O||d.call(F)},1e3*(o+u)+25)()),n.clientLeft,e.css(n,m),o<=0&&r.debounce(function(){O||d.call(F)},0)(),S&&c(n,t.scrollTop,o,l),this}function a(n,t,s){return e.show(n),t&&(!s&&i.isFunction(t)&&(s=t,t="normal"),e.css(n,"opacity",0),o(n,{opacity:1,scale:"1,1"},t,s)),this}function l(n,t,s){return t?(!s&&i.isFunction(t)&&(s=t,t="normal"),o(n,{opacity:0,scale:"0,0"},t,function(){e.hide(n),s&&s.call(n)})):e.hide(n),this}function c(n,i,t,e){var s=parseInt(n.scrollTop),o=0,a=5,l=1e3*t/a,c=parseInt(i),u=setInterval(function(){o++,o<=l&&(n.scrollTop=(c-s)/l*o+s),o>=l+1&&(clearInterval(u),e&&r.debounce(e,1e3)())},a)}function u(n,i,t){return e.isInvisible(n)?a(n,i,t):l(n,i,t),this}function f(n,i,t,e){return o(n,{opacity:t},i,e),this}function p(n,i,t){var s=e.css(n,"opacity");return s>0?e.css(n,"opacity",0):s=1,e.show(n),f(n,i,s,t),this}function d(n,i,t){return f(n,i,0,function(){e.hide(n),t&&t.call(n)}),this}function m(n,i,t){return e.isInvisible(n)?p(n,i,t):d(n,i,t),this}function y(){return y}var h,g,k,v,P,z,C,T,b=t.normalizeCssEvent("AnimationEnd"),w=t.normalizeCssEvent("TransitionEnd"),I=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,x=t.css3PropPrefix+"transform",E={};return E[h=t.normalizeCssProperty("animation-name")]=E[g=t.normalizeCssProperty("animation-duration")]=E[v=t.normalizeCssProperty("animation-delay")]=E[k=t.normalizeCssProperty("animation-timing-function")]="",E[P=t.normalizeCssProperty("transition-property")]=E[z=t.normalizeCssProperty("transition-duration")]=E[T=t.normalizeCssProperty("transition-delay")]=E[C=t.normalizeCssProperty("transition-timing-function")]="",i.mixin(y,{off:!1,speeds:{normal:400,fast:200,slow:600},animate:o,fadeIn:p,fadeOut:d,fadeTo:f,fadeToggle:m,hide:l,scrollToTop:c,show:a,toggle:u}),n.fx=y});